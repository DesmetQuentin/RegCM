#  Makefile for RegCM@  run on PC_LINUX by using Intel FORTRAN compiler version 8 or 9

FC = ifort -tpp7 -O3 -cm -w -w90 -w95 -convert big_endian
LD = $(FC)

SRC1a = SST_1DEG.f
OBJ1a = SST_1DEG.o

SRC1b = SST_FVGCM.f
OBJ1b = SST_FVGCM.o

SRC1c = SST_EH5OM.f
OBJ1c = SST_EH5OM.o

SRC1d = SST_ERSST.f
OBJ1d = SST_ERSST.o

SRC2 = AEROSOL.f
OBJ2 = AEROSOL.o

SRC3 = ICBC.f
OBJ3 = ICBC.o

all: SST SST_FVGCM SST_EH5OM SST_ERSST AEROSOL ICBC

.f.o:
	$(FC) -c $(FFLAGS) $*.f

SST: $(OBJ1a)
	$(LD) -o $@ $(OBJ1a) -L../../Commons/env/liblinuxamd64/ -lnetcdf -Vaxlib

SST_FVGCM: $(OBJ1b)
	$(LD) -o $@ $(OBJ1b) -Vaxlib

SST_EH5OM: $(OBJ1c)
	$(LD) -o $@ $(OBJ1c) -Vaxlib

SST_ERSST: $(OBJ1d)
	$(LD) -o $@ $(OBJ1d) -L../../Commons/env/liblinuxamd64/ -lnetcdf -Vaxlib

AEROSOL: $(OBJ2)
	$(LD) -o $@ $(OBJ2) -Vaxlib

ICBC: $(OBJ3)
	$(LD) -o $@ $(OBJ3) -L../../Commons/env/liblinuxamd64/ -lnetcdf -Vaxlib

clean:
	rm -f *.o SST SST_FVGCM SST_EH5OM SST_ERSST AEROSOL ICBC
# --------------------------------------------------------------------
# DO NOT DELETE THIS LINE -- make depend depends on it.

SST_1DEG.o: icbc.param SST_1DEG.f
SST_FVGCM.o: icbc.param SST_FVGCM.f
SST_EH5OM.o: icbc.param SST_EH5OM.f
SST_ERSST.o: icbc.param SST_ERSST.f
AEROSOL.o: icbc.param AEROSOL.f
ICBC.o: icbc.param ICBC.f
