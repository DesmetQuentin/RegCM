<HTML>

<HEAD>
<TITLE>header.F90</TITLE>
</HEAD>

<BODY background="back_granite.gif">
<FONT COLOR="#000000" FACE="Times">
<H1 ALIGN=CENTER>header.F90</H1>
<HR>
<H2 ALIGN=CENTER>header.F90</H2>
<HR>
</FONT>

<HR>

<PRE>
1: !::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
2: !
3: !    This file is part of ICTP RegCM.
4: !
5: !    ICTP RegCM is free software: you can redistribute it and/or modify
6: !    it under the terms of the GNU General Public License as published by
7: !    the Free Software Foundation, either version 3 of the License, or
8: !    (at your option) any later version.
9: !
10: !    ICTP RegCM is distributed in the hope that it will be useful,
11: !    but WITHOUT ANY WARRANTY; without even the implied warranty of
12: !    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
13: !    GNU General Public License for more details.
14: !
15: !    You should have received a copy of the GNU General Public License
16: !    along with ICTP RegCM.  If not, see <http://www.gnu.org/licenses/>.
17: !
18: !::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
19: 
<p><a name=header><H3>header</H3></a></p> Click <a href="./callingtree/header_rite.html" TARGET=RITE_PANEL>HERE</a> to see the where header is used.
<hr>
20:       subroutine header(myid,nproc)
21:       implicit none 
22:       integer , intent(in) :: myid,nproc
23:       integer :: ihost , idir
24:       integer :: hostnm
25:       integer :: getcwd
26:       character (len=24) :: cdata='?'
27:       character (len=32) :: hostname='?' 
28:       character (len=32) :: user='?' 
29:       character (len=256) :: directory='?'
30:       integer , parameter :: nrite=6
31:   
32:       if ( myid.eq.0 )  then 
33: 
34:         write (nrite,"(/,2x,'This is RegCM version 4 ')")
35:         write (nrite,99001)  SVN_REV, __DATE__ , __TIME__   
36: 
37: #ifdef IBM
38:         hostname='ibm platform '
39:         user= 'Unknown'
40:         call <a href="#" TARGET=CENT_PANEL>fdate_</a>(cdata)
41: #else
42:         ihost = hostnm(hostname)
43:         call <a href="#" TARGET=CENT_PANEL>getlog</a>(user)
44:         call <a href="#" TARGET=CENT_PANEL>fdate</a>(cdata)
45: #endif 
46: 
47:         idir = getcwd(directory)
48: 
49:         write (nrite,*) ": this run started at    : ",cdata
50:         write (nrite,*) ": it is submitted by   : ",trim(user)
51:         write (nrite,*) ": it is running on     : ",trim(hostname)
52:         write (nrite,*) ": it is using          : ",nproc, '  processors' 
53:         write (nrite,*) ": in directory         : ",trim(directory)
54:         write (nrite,*) "                      " 
55:       end if 
56:       return 
57: 99001 format(2x,' SVN Revision: ',A,' compiled at: data : ',A,          &
58:         &    '  time: ',A,/)
59:       end subroutine header
60: 
<p><a name=finaltime><H3>finaltime</H3></a></p> Click <a href="./callingtree/finaltime_rite.html" TARGET=RITE_PANEL>HERE</a> to see the where finaltime is used.
<hr>
61:       subroutine finaltime(myid)
62:         implicit none
63:         integer , intent (in) :: myid
64:         character (len=24) :: cdata='?'
65: 
66:         if ( myid.eq. 0 ) then
67: #ifdef IBM
68:           call <a href="#" TARGET=CENT_PANEL>fdate_</a>(cdata)
69: #else
70:           call <a href="#" TARGET=CENT_PANEL>fdate</a>(cdata)
71: #endif 
72:           write ( 6,* ) ': this run terminated at : ', cdata
73:         end if
74: 
75:         return
76:       end subroutine finaltime
</PRE>

<HR>

</BODY>
</HTML>
