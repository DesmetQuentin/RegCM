<HTML>

<HEAD>
<TITLE>mod_param_clm.f90</TITLE>
</HEAD>

<BODY background="back_granite.gif">
<FONT COLOR="#000000" FACE="Times">
<H1 ALIGN=CENTER>mod_param_clm.f90</H1>
<HR>
<H2 ALIGN=CENTER>mod_param_clm.f90</H2>
<HR>
</FONT>

<HR>

<PRE>
1: !::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
2: !
3: !    This file is part of ICTP RegCM.
4: !
5: !    ICTP RegCM is free software: you can redistribute it and/or modify
6: !    it under the terms of the GNU General Public License as published by
7: !    the Free Software Foundation, either version 3 of the License, or
8: !    (at your option) any later version.
9: !
10: !    ICTP RegCM is distributed in the hope that it will be useful,
11: !    but WITHOUT ANY WARRANTY; without even the implied warranty of
12: !    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
13: !    GNU General Public License for more details.
14: !
15: !    You should have received a copy of the GNU General Public License
16: !    along with ICTP RegCM.  If not, see <http://www.gnu.org/licenses/>.
17: !
18: !::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
19: 
<p><a name=mod_param_clm><H3>mod_param_clm</H3></a></p>20:       module mod_param_clm
21:       implicit none
22: !
23: ! PARAMETER definitions
24: !
25: !     ** Define number of CLM3 fields to interpolate to RegCM3 grid
26: !     ** nlon   = number of longitudes
27: !     ** nlat   = number of latitudes
28: !     ** nlev   = number of vertical levels or PFTs
29: !     ** ntim   = number of times
30: !     ** nfil   = number of fields
31: !     ** glon1  = first longitude in CLM3 file
32: !     ** glon2  = last longitude in CLM3 file
33: !     ** glat1  = first latitude in CLM3 file
34: !     ** glat2  = last latitude in CLM3 file
35: !     ** vnam   = variable name (short name)
36: !     ** vmin   = minimum possible data value (for undefined values)
37: !     ** infil  = names of global CLM3 input files (NetCDF is defined
38: !     elsewhere)
39: !     ** npft = number of plant functional types
40: !     ** nsoi = number of soil levels
41: 
42:       integer, private :: k
43: 
44:       integer , parameter :: nfld = 18 , npft = 17 , nsoi = 10 ,        &
45:                            & ipft = 1 , ilai = 2 , isai = 3 , itop = 4 ,&
46:                            & ibot = 5 , ilak = 6 , iwtl = 7 , iglc = 8 ,&
47:                            & iurb = 9 , isnd = 10 , icly = 11 ,         &
48:                            & icol = 12 , ioro = 13 , iiso = 15 ,        &
49:                            & ifma = 14 , iapin = 16 , ibpin = 17 ,      &
50:                            & imbo = 18
51: !
52: ! Local variables
53: !
54:       real(4) , dimension(nfld) :: glat1 , glat2 , glon1 , glon2 , vmin
55:       integer , dimension(nfld) :: nlat , nlev , nlon , ntim
56: !     ** glev_st = soil level depths
57:       real(4) , dimension(nsoi) :: glev_st
58:       character(256) , dimension(nfld) :: infil
59:       character(64) , dimension(nfld) :: vnam
60:       character(64) :: vnam_lm , vnam_st
61: !
62:       data (glev_st(k),k=1,nsoi)/0.0175 , 0.0451 , 0.0906 , 0.1656 ,    &
63:           & 0.2892 , 0.4930 , 0.8290 , 1.3829 , 2.2962 , 3.4332/
64:  
65: !     ** Landmask information in each file
66: !     ** vnam_lm = name of landmask variable
67:       data vnam_lm/'LANDMASK'/
68:  
69: !     ***** INFORMATION ON EACH CLM3 VARIABLE
70:  
71: !     ** Plant functional types
72:       data vnam(ipft) , vmin(ipft)/'PCT_PFT' , -99/
73:       data infil(ipft)/'/CLM/mksrf_pft.nc'/
74:       data nlon(ipft) , nlat(ipft) , nlev(ipft) , ntim(ipft)/720 , 360 ,&
75:          & npft , 1/
76:       data glon1(ipft) , glon2(ipft) , glat1(ipft) , glat2(ipft)        &
77:          & / - 179.75 , 179.75 , -89.75 , 89.75/
78:  
79: !     ** Vegetation parameters (LAI, SAI, etc)
80:       data vnam(ilai) , vmin(ilai)/'MONTHLY_LAI' , -99/
81:       data vnam(isai) , vmin(isai)/'MONTHLY_SAI' , -99/
82:       data vnam(itop) , vmin(itop)/'MONTHLY_HEIGHT_TOP' , -99/
83:       data vnam(ibot) , vmin(ibot)/'MONTHLY_HEIGHT_BOT' , -99/
84:       data infil(ilai)/'/CLM/mksrf_lai.nc'/
85:       data infil(isai)/'/CLM/mksrf_lai.nc'/
86:       data infil(itop)/'/CLM/mksrf_lai.nc'/
87:       data infil(ibot)/'/CLM/mksrf_lai.nc'/
88:       data nlon(ilai) , nlat(ilai) , nlev(ilai) , ntim(ilai)/720 , 360 ,&
89:          & npft , 12/
90:       data nlon(isai) , nlat(isai) , nlev(isai) , ntim(isai)/720 , 360 ,&
91:          & npft , 12/
92:       data nlon(itop) , nlat(itop) , nlev(itop) , ntim(itop)/720 , 360 ,&
93:          & npft , 12/
94:       data nlon(ibot) , nlat(ibot) , nlev(ibot) , ntim(ibot)/720 , 360 ,&
95:          & npft , 12/
96:       data glon1(ilai) , glon2(ilai) , glat1(ilai) , glat2(ilai)        &
97:          & / - 179.75 , 179.75 , -89.75 , 89.75/
98:       data glon1(isai) , glon2(isai) , glat1(isai) , glat2(isai)        &
99:          & / - 179.75 , 179.75 , -89.75 , 89.75/
100:       data glon1(itop) , glon2(itop) , glat1(itop) , glat2(itop)        &
101:          & / - 179.75 , 179.75 , -89.75 , 89.75/
102:       data glon1(ibot) , glon2(ibot) , glat1(ibot) , glat2(ibot)        &
103:          & / - 179.75 , 179.75 , -89.75 , 89.75/
104:  
105: !     ** Land water (lake and wetland)
106: !     data vnam(ilak), vmin(ilak)  / 'PCT_LAKE', -99 /
107: !     data vnam(iwtl), vmin(iwtl)  / 'PCT_WETLAND', -99 /
108: !     data infil(ilak) / '/CLM/mksrf_lanwat.nc' /
109: !     data infil(iwtl) / '/CLM/mksrf_lanwat.nc' /
110: !     data nlon(ilak),nlat(ilak),nlev(ilak),ntim(ilak)
111: !     &   /        360,       180,         1,        1 /
112: !     data nlon(iwtl),nlat(iwtl),nlev(iwtl),ntim(iwtl)
113: !     &   /        360,       180,         1,        1 /
114: !     data glon1(ilak),glon2(ilak),glat1(ilak),glat2(ilak)
115: !     &   /         0.5,      359.5,      -89.5,       89.5 /
116: !     data glon1(iwtl),glon2(iwtl),glat1(iwtl),glat2(iwtl)
117: !     &   /         0.5,      359.5,      -89.5,       89.5 /
118:       data vnam(ilak) , vmin(ilak)/'PCT_LAKE' , -99/
119:       data vnam(iwtl) , vmin(iwtl)/'PCT_WETLAND' , -99/
120:       data infil(ilak)/'/CLM/mksrf_lanwat.nc'/
121:       data infil(iwtl)/'/CLM/mksrf_lanwat.nc'/
122:       data nlon(ilak) , nlat(ilak) , nlev(ilak) , ntim(ilak)/7200 ,     &
123:          & 3600 , 1 , 1/
124:       data nlon(iwtl) , nlat(iwtl) , nlev(iwtl) , ntim(iwtl)/7200 ,     &
125:          & 3600 , 1 , 1/
126:       data glon1(ilak) , glon2(ilak) , glat1(ilak) , glat2(ilak)        &
127:          & / - 179.975 , 179.975 , -89.975 , 89.975/
128:       data glon1(iwtl) , glon2(iwtl) , glat1(iwtl) , glat2(iwtl)        &
129:          & / - 179.975 , 179.975 , -89.975 , 89.975/
130:  
131: !     ** Glacier
132:       data vnam(iglc) , vmin(iglc)/'PCT_GLACIER' , -99/
133:       data infil(iglc)/'/CLM/mksrf_glacier.nc'/
134:       data nlon(iglc) , nlat(iglc) , nlev(iglc) , ntim(iglc)/7200 ,     &
135:          & 3600 , 1 , 1/
136:       data glon1(iglc) , glon2(iglc) , glat1(iglc) , glat2(iglc)        &
137:          & / - 179.975 , 179.975 , -89.975 , 89.975/
138:  
139: !     ** Urban
140:       data vnam(iurb) , vmin(iurb)/'PCT_URBAN' , -99/
141:       data infil(iurb)/'/CLM/mksrf_urban.nc'/
142:       data nlon(iurb) , nlat(iurb) , nlev(iurb) , ntim(iurb)/7200 ,     &
143:          & 3600 , 1 , 1/
144:       data glon1(iurb) , glon2(iurb) , glat1(iurb) , glat2(iurb)        &
145:          & / - 179.975 , 179.975 , -89.975 , 89.975/
146:  
147: !     ** Soil texture
148:       data vnam_st/'MAPUNITS'/
149:       data vnam(isnd) , vmin(isnd)/'PCT_SAND' , -99/
150:       data vnam(icly) , vmin(icly)/'PCT_CLAY' , -99/
151:       data infil(isnd)/'/CLM/mksrf_soitex.10level.nc'/
152:       data infil(icly)/'/CLM/mksrf_soitex.10level.nc'/
153:       data nlon(isnd) , nlat(isnd) , nlev(isnd) , ntim(isnd)/4320 ,     &
154:          & 2160 , 10 , 6998/
155:       data nlon(icly) , nlat(icly) , nlev(icly) , ntim(icly)/4320 ,     &
156:          & 2160 , 10 , 6998/
157:       data glon1(isnd) , glon2(isnd) , glat1(isnd) , glat2(isnd)        &
158:          & / - 179.9583 , 179.9583 , -89.95834 , 89.95834/
159:       data glon1(icly) , glon2(icly) , glat1(icly) , glat2(icly)        &
160:          & / - 179.9583 , 179.9583 , -89.95834 , 89.95834/
161:  
162: !     ** Soil color
163: !     data vnam(icol), vmin(icol)  / 'SOIL_COLOR', 0 /
164: !     data infil(icol) / '/CLM/mksrf_soicol_clm2.nc' /
165: !     data nlon(icol),nlat(icol),nlev(icol),ntim(icol)
166: !     &   /       128,       64,        1,       1 /
167: !     data glon1(icol),glon2(icol),glat1(icol),glat2(icol)
168: !     &   /          0.,   357.1875,   -87.8638,    87.8638 /
169:       data vnam(icol) , vmin(icol)/'SOIL_COLOR' , 0/
170:       data infil(icol)/'/CLM/mksrf_soicol_clm2.nc'/
171:       data nlon(icol) , nlat(icol) , nlev(icol) , ntim(icol)/7200 ,     &
172:          & 3600 , 1 , 1/
173:       data glon1(icol) , glon2(icol) , glat1(icol) , glat2(icol)        &
174:          & / - 179.975 , 179.975 , -89.975 , 89.975/
175:  
176: !     ** Orography
177:       data vnam(ioro) , vmin(ioro)/'LANDFRAC' , -99./
178:       data infil(ioro)/'/CLM/mksrf_navyoro_20min.nc'/
179:       data nlon(ioro) , nlat(ioro) , nlev(ioro) , ntim(ioro)/7200 ,     &
180:          & 3600 , 1 , 1/
181:       data glon1(ioro) , glon2(ioro) , glat1(ioro) , glat2(ioro)        &
182:          & / - 179.975 , 179.975 , -89.975 , 89.975/
183: !     data vnam(ioro), vmin(ioro)  / 'lufrac', -99. /
184: !     data infil(ioro) / '/CLM/mksrf_navyoro_20min.nc' /
185: !     data nlon(ioro),nlat(ioro),nlev(ioro),ntim(ioro)
186: !     &   /      1080,      540,        20,       1 /
187: !     data glon1(ioro),glon2(ioro),glat1(ioro),glat2(ioro)
188: !     &   /   0.1666667,   359.8333,  -89.83334,   89.83334 /
189:  
190: !     ***** ADDITION ISOPRENE *****
191:       data vnam(iiso) , vmin(iiso)/'ISOP' , -99./
192:       data infil(iiso)/'mksrf_iso.nc'/
193:       data nlon(iiso) , nlat(iiso) , nlev(iiso) , ntim(iiso)/8571 ,     &
194:          & 3333 , 1 , 1/
195:       data glon1(iiso) , glon2(iiso) , glat1(iiso) , glat2(iiso)        &
196:          & / - 179.97886665 , 179.961133350012 , -56.97857335 ,         &
197:          & 82.965426650004/
198:  
199: !     ***** ADDITION B-PINENE *****
200:       data vnam(ibpin) , vmin(ibpin)/'BPINE' , -99./
201:       data infil(ibpin)/'mksrf_pinb.nc'/
202:       data nlon(ibpin) , nlat(ibpin) , nlev(ibpin) , ntim(ibpin)/8571 , &
203:          & 3333 , 1 , 1/
204:       data glon1(ibpin) , glon2(ibpin) , glat1(ibpin) , glat2(ibpin)    &
205:          & / - 179.97886665 , 179.961133350012 , -56.97857335 ,         &
206:          & 82.965426650004/
207:  
208: !     ***** ADDITION A-PINENE *****
209:       data vnam(iapin) , vmin(iapin)/'APINE' , -99./
210:       data infil(iapin)/'mksrf_pina.nc'/
211:       data nlon(iapin) , nlat(iapin) , nlev(iapin) , ntim(iapin)/8571 , &
212:          & 3333 , 1 , 1/
213:       data glon1(iapin) , glon2(iapin) , glat1(iapin) , glat2(iapin)    &
214:          & / - 179.97886665 , 179.961133350012 , -56.97857335 ,         &
215:          & 82.965426650004/
216:  
217: !     ***** ADDITION METHYLBUTENOL *****
218:       data vnam(imbo) , vmin(imbo)/'MBO' , -99./
219:       data infil(imbo)/'mksrf_mbo.nc'/
220:       data nlon(imbo) , nlat(imbo) , nlev(imbo) , ntim(imbo)/8571 ,     &
221:          & 4286 , 1 , 1/
222:       data glon1(imbo) , glon2(imbo) , glat1(imbo) , glat2(imbo)        &
223:          & / - 179.979 , 179.961000000012 , -89.979 , 89.9910000000055/
224:  
225: !     **** ADDITION Maximum Fractional Saturated Area ***
226:       data vnam(ifma) , vmin(ifma)/'FMAX' , -99/
227:       data infil(ifma)/'/CLM/mksrf_fmax.nc'/
228:       data nlon(ifma) , nlat(ifma) , nlev(ifma) , ntim(ifma)/720 , 360 ,&
229:          & 1 , 1/
230:       data glon1(ifma) , glon2(ifma) , glat1(ifma) , glat2(ifma)        &
231:          & / - 179.75 , 179.75 , -89.75 , 89.75/
232: 
233:       end module mod_param_clm
</PRE>

<HR>

</BODY>
</HTML>
