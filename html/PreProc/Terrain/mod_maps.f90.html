<HTML>

<HEAD>
<TITLE>mod_maps.f90</TITLE>
</HEAD>

<BODY background="back_granite.gif">
<FONT COLOR="#000000" FACE="Times">
<H1 ALIGN=CENTER>mod_maps.f90</H1>
<HR>
<H2 ALIGN=CENTER>mod_maps.f90</H2>
<HR>
</FONT>

<HR>

<PRE>
1: !::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
2: !
3: !    This file is part of ICTP RegCM.
4: !
5: !    ICTP RegCM is free software: you can redistribute it and/or modify
6: !    it under the terms of the GNU General Public License as published by
7: !    the Free Software Foundation, either version 3 of the License, or
8: !    (at your option) any later version.
9: !
10: !    ICTP RegCM is distributed in the hope that it will be useful,
11: !    but WITHOUT ANY WARRANTY; without even the implied warranty of
12: !    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
13: !    GNU General Public License for more details.
14: !
15: !    You should have received a copy of the GNU General Public License
16: !    along with ICTP RegCM.  If not, see <http://www.gnu.org/licenses/>.
17: !
18: !::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
19: 
<p><a name=mod_maps><H3>mod_maps</H3></a></p>20:       module mod_maps
21: 
22:       implicit none
23: 
24:       real(4) , allocatable , dimension(:,:) :: claya , clayb , coriol ,&
25:                      & dlat , dlon , dmap , htgrid , htsdgrid ,         &
26:                      & lndout , mask , sanda , sandb , snowam , texout ,&
27:                      & xlat , xlon , xmap
28:       real(4) , allocatable , dimension(:,:,:) :: frac_lnd
29:       real(4) , allocatable , dimension(:,:,:) :: frac_tex
30:       integer , allocatable , dimension(:,:) :: intext , lnduse , nsc
31:       real(4) , allocatable , dimension(:,:) :: corc , hscr1 , htsavc , &
32:                      & sumc , wtmaxc
33:       character(1) , allocatable , dimension(:,:) :: ch
34:       real(4) , allocatable , dimension(:,:,:) :: itex , land
35: 
36:       real(4) , allocatable , dimension(:,:) :: claya_s , clayb_s ,     &
37:            & coriol_s , dlat_s , dlon_s , dmap_s , htgrid_s ,           &
38:            & htsdgrid_s , lndout_s , mask_s , sanda_s , sandb_s ,       &
39:            & snowam_s , texout_s , xlat_s , xlon_s , xmap_s
40:       real(4) , allocatable , dimension(:,:,:) :: frac_lnd_s
41:       real(4) , allocatable , dimension(:,:,:) :: frac_tex_s
42:       integer , allocatable , dimension(:,:) :: intext_s , lnduse_s ,   &
43:                      & nsc_s
44:       real(4) , allocatable , dimension(:,:) :: corc_s , hscr1_s ,      &
45:                      & htsavc_s , sumc_s , wtmaxc_s
46:       character(1) , allocatable , dimension(:,:) :: ch_s
47:       real(4) , allocatable , dimension(:,:,:) :: itex_s , land_s
48: 
49:       real(4) , allocatable , dimension(:) :: sigma
50: 
51:       contains
52: 
<p><a name=allocate_grid><H3>allocate_grid</H3></a></p> Click <a href="./callingtree/allocate_grid_rite.html" TARGET=RITE_PANEL>HERE</a> to see the where allocate_grid is used.
<hr>
53:       subroutine allocate_grid(iy,jx,kz,nveg,ntex)
54:         implicit none
55:         integer , intent(in) :: iy,jx,kz,nveg,ntex
56:         allocate(sigma(kz+1))
57:         allocate(ch(iy,jx))
58:         allocate(corc(iy,jx))
59:         allocate(nsc(iy,jx))
60:         allocate(hscr1(iy,jx))
61:         allocate(htsavc(iy,jx))
62:         allocate(sumc(iy,jx))
63:         allocate(wtmaxc(iy,jx))
64:         allocate(itex(iy,jx,2))
65:         allocate(land(iy,jx,2))
66:         allocate(claya(iy,jx))
67:         allocate(clayb(iy,jx))
68:         allocate(coriol(iy,jx))
69:         allocate(xlat(iy,jx))
70:         allocate(xlon(iy,jx))
71:         allocate(dlat(iy,jx))
72:         allocate(dlon(iy,jx))
73:         allocate(xmap(iy,jx))
74:         allocate(dmap(iy,jx))
75:         allocate(htgrid(iy,jx))
76:         allocate(htsdgrid(iy,jx))
77:         allocate(lndout(iy,jx))
78:         allocate(mask(iy,jx))
79:         allocate(sanda(iy,jx))
80:         allocate(sandb(iy,jx))
81:         allocate(snowam(iy,jx))
82:         allocate(texout(iy,jx))
83:         allocate(intext(iy,jx))
84:         allocate(lnduse(iy,jx))
85:         allocate(frac_lnd(iy,jx,nveg))
86:         allocate(frac_tex(iy,jx,ntex))
87:       end subroutine allocate_grid
88: 
<p><a name=allocate_subgrid><H3>allocate_subgrid</H3></a></p> Click <a href="./callingtree/allocate_subgrid_rite.html" TARGET=RITE_PANEL>HERE</a> to see the where allocate_subgrid is used.
<hr>
89:       subroutine allocate_subgrid(iysg,jxsg,nveg,ntex)
90:         implicit none
91:         integer , intent(in) :: iysg,jxsg,nveg,ntex
92:         allocate(ch_s(iysg,jxsg))
93:         allocate(corc_s(iysg,jxsg))
94:         allocate(nsc_s(iysg,jxsg))
95:         allocate(hscr1_s(iysg,jxsg))
96:         allocate(htsavc_s(iysg,jxsg))
97:         allocate(sumc_s(iysg,jxsg))
98:         allocate(wtmaxc_s(iysg,jxsg))
99:         allocate(itex_s(iysg,jxsg,2))
100:         allocate(land_s(iysg,jxsg,2))
101:         allocate(claya_s(iysg,jxsg))
102:         allocate(clayb_s(iysg,jxsg))
103:         allocate(coriol_s(iysg,jxsg))
104:         allocate(xlat_s(iysg,jxsg))
105:         allocate(xlon_s(iysg,jxsg))
106:         allocate(dlat_s(iysg,jxsg))
107:         allocate(dlon_s(iysg,jxsg))
108:         allocate(xmap_s(iysg,jxsg))
109:         allocate(dmap_s(iysg,jxsg))
110:         allocate(htgrid_s(iysg,jxsg))
111:         allocate(htsdgrid_s(iysg,jxsg))
112:         allocate(lndout_s(iysg,jxsg))
113:         allocate(mask_s(iysg,jxsg))
114:         allocate(sanda_s(iysg,jxsg))
115:         allocate(sandb_s(iysg,jxsg))
116:         allocate(snowam_s(iysg,jxsg))
117:         allocate(texout_s(iysg,jxsg))
118:         allocate(intext_s(iysg,jxsg))
119:         allocate(lnduse_s(iysg,jxsg))
120:         allocate(frac_lnd_s(iysg,jxsg,nveg))
121:         allocate(frac_tex_s(iysg,jxsg,ntex))
122:       end subroutine allocate_subgrid
123: 
<p><a name=free_grid><H3>free_grid</H3></a></p> Click <a href="./callingtree/free_grid_rite.html" TARGET=RITE_PANEL>HERE</a> to see the where free_grid is used.
<hr>
124:       subroutine free_grid
125:         implicit none
126:         deallocate(sigma)
127:         deallocate(ch)
128:         deallocate(corc)
129:         deallocate(nsc)
130:         deallocate(hscr1)
131:         deallocate(htsavc)
132:         deallocate(sumc)
133:         deallocate(wtmaxc)
134:         deallocate(itex)
135:         deallocate(land)
136:         deallocate(claya)
137:         deallocate(clayb)
138:         deallocate(coriol)
139:         deallocate(xlat)
140:         deallocate(xlon)
141:         deallocate(dlat)
142:         deallocate(dlon)
143:         deallocate(xmap)
144:         deallocate(dmap)
145:         deallocate(htgrid)
146:         deallocate(htsdgrid)
147:         deallocate(lndout)
148:         deallocate(mask)
149:         deallocate(sanda)
150:         deallocate(sandb)
151:         deallocate(snowam)
152:         deallocate(texout)
153:         deallocate(intext)
154:         deallocate(lnduse)
155:         deallocate(frac_lnd)
156:         deallocate(frac_tex)
157:       end subroutine free_grid
158: 
<p><a name=free_subgrid><H3>free_subgrid</H3></a></p> Click <a href="./callingtree/free_subgrid_rite.html" TARGET=RITE_PANEL>HERE</a> to see the where free_subgrid is used.
<hr>
159:       subroutine free_subgrid
160:         implicit none
161:         deallocate(ch_s)
162:         deallocate(corc_s)
163:         deallocate(nsc_s)
164:         deallocate(hscr1_s)
165:         deallocate(htsavc_s)
166:         deallocate(sumc_s)
167:         deallocate(wtmaxc_s)
168:         deallocate(itex_s)
169:         deallocate(land_s)
170:         deallocate(claya_s)
171:         deallocate(clayb_s)
172:         deallocate(coriol_s)
173:         deallocate(xlat_s)
174:         deallocate(xlon_s)
175:         deallocate(dlat_s)
176:         deallocate(dlon_s)
177:         deallocate(xmap_s)
178:         deallocate(dmap_s)
179:         deallocate(htgrid_s)
180:         deallocate(htsdgrid_s)
181:         deallocate(lndout_s)
182:         deallocate(mask_s)
183:         deallocate(sanda_s)
184:         deallocate(sandb_s)
185:         deallocate(snowam_s)
186:         deallocate(texout_s)
187:         deallocate(intext_s)
188:         deallocate(lnduse_s)
189:         deallocate(frac_lnd_s)
190:         deallocate(frac_tex_s)
191:       end subroutine free_subgrid
192: 
193:       end module mod_maps
</PRE>

<HR>

</BODY>
</HTML>
